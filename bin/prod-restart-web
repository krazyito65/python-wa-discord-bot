#!/bin/bash
# Restart only the Django web interface
# Usage: bin/prod-restart-web

set -euo pipefail

echo "ğŸŒ Restarting Django web interface..."

echo "  â€¢ Stopping Django service..."
sudo systemctl stop weakauras-django

echo "  â€¢ Starting Django service..."
sudo systemctl start weakauras-django

echo "  â€¢ Reloading nginx..."
sudo systemctl reload nginx

echo "  â€¢ Checking web status..."
sleep 3
sudo systemctl status weakauras-django nginx --no-pager

echo "âœ… Django web interface restarted successfully!"
echo ""
echo "ğŸ“Š Web Status: $(sudo systemctl is-active weakauras-django)"
echo "ğŸŒ Website: https://bot.weakauras.wtf"
echo "ğŸ“ Web Logs: bin/prod-logs-web"
